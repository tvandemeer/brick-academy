const getUrl="https://rebrickable.com/api/v3/lego/parts/",page_size="20";let page="1";async function getParts(t=""){return(await fetch(t,{method:"GET",headers:{Authorization:"key bc4537b496eaab6056e0ce49fb54bc55"}})).json()}function createPartsList(t){sessionStorage.setItem("parts",JSON.stringify(t)),t.results.forEach((t=>{createPartEl(t.part_num,t.name,t.part_img_url,t.part_url)}));const e=t.previous,a=t.next,s=document.createElement("div");s.id="pages_nav_div",s.classList.add("uk-container"),s.classList.add("uk-flex"),s.classList.add("uk-flex-between"),s.classList.add("uk-margin-top"),s.classList.add("uk-margin-bottom");const d=document.createElement("div"),n=document.createElement("a"),i=document.createElement("span");n.classList.add("uk-button"),n.classList.add("uk-button-default"),n.classList.add("pages-nav"),n.type="button",e?n.href=e:(n.href="#",n.style.color="#999999",n.style.cursor="not-allowed"),i.setAttribute("uk-icon","icon: chevron-left"),n.innerText="vorige",d.appendChild(i),d.appendChild(n),s.appendChild(d);const l=document.createElement("div"),c=document.createElement("a"),r=document.createElement("span");c.classList.add("uk-button"),c.classList.add("uk-button-default"),c.classList.add("pages-nav"),c.type="button",a?c.href=a:(c.href="#",c.style.color="#999999",c.style.cursor="not-allowed"),r.setAttribute("uk-icon","icon: chevron-right"),c.innerText="volgende",l.appendChild(c),l.appendChild(r),s.appendChild(l),document.body.appendChild(s),pagesNavListeners(),addCartListeners()}function createPartEl(t,e,a,s){const d=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=document.createElement("p"),r=document.createElement("h2"),o=document.createElement("img"),u=document.createElement("a"),p=document.createElement("span"),m=document.createElement("a"),L=document.createElement("span");p.setAttribute("uk-icon","icon: cart; ratio: 2"),L.setAttribute("uk-icon","icon: link"),o.id=t,o.src=a||"img/geen_afbeelding.jpg",d.classList.add("part_wrap"),n.classList.add("uk-card"),n.classList.add("uk-card-default"),n.classList.add("animate__animated"),n.classList.add("animate__fadeIn"),n.classList.add("animate__slow"),i.classList.add("uk-card-media-top"),l.classList.add("uk-card-body"),c.classList.add("uk-card-title"),c.classList.add("uk-inline"),c.classList.add("uk-width-1-1"),r.classList.add("uk-position-bottom"),r.classList.add("price"),r.classList.add("uk-inline"),o.classList.add("uk-position-relative"),i.appendChild(o),n.appendChild(i),c.innerText=e,m.classList.add("uk-button"),m.classList.add("uk-button-default"),m.classList.add("uk-button-small"),m.classList.add("uk-inline"),m.classList.add("part-detail"),m.classList.add("uk-width-2-3"),m.href=s,m.setAttribute("target","_blank"),m.innerText="details",m.appendChild(L),r.innerText=`â‚¬${(5*Math.random()).toFixed(2)}`,u.href="#",u.innerText="+ ",u.type="button",u.setAttribute("data-part",t),u.classList.add("uk-button"),u.classList.add("uk-button-primary"),u.classList.add("uk-inline"),u.classList.add("uk-position-bottom-right"),u.classList.add("uk-height-1-2"),u.classList.add("uk-margin-bottom"),u.classList.add("uk-margin-right"),u.classList.add("uk-border-rounded"),u.classList.add("add_button"),u.classList.add("uk-button-small"),p.classList.add("uk-position-relative"),p.classList.add("part-cart"),p.classList.add("uk-width-1-1"),l.appendChild(c),l.appendChild(m),l.appendChild(r),l.appendChild(u),l.appendChild(p),n.appendChild(l),d.appendChild(n),parts_list.appendChild(d)}function pagesNavListeners(){document.querySelectorAll(".pages-nav").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const e=t.target.href.split("&");if(page=e[1]||"2"!==page?e[1]?e[0].split("=")[1]:0:"1",page){document.querySelectorAll(".part_wrap").forEach((t=>{t.remove()})),document.getElementById("pages_nav_div").remove(),getParts(url=`${getUrl}?page=${page}&page_size=${page_size}`).then((t=>{createPartsList(t)}))}}))}))}function addCartListeners(){document.querySelectorAll(".add_button").forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.dataset.part,a=t.target.parentNode.childNodes,s=a[0].innerText,d=a[2].innerText.split("â‚¬")[1],n=new Artikel(e,s,d);console.log(n)}))}))}window.onload=()=>{document.getElementById("parts_list")},getParts(url=`${getUrl}?page=${page}&page_size=${page_size}`).then((t=>{createPartsList(t)}));