const getUrl="https://rebrickable.com/api/v3/lego/parts/",page_size="20";let page="1";async function getParts(t=""){return(await fetch(t,{method:"GET",headers:{Authorization:"key bc4537b496eaab6056e0ce49fb54bc55"}})).json()}function createPartsList(t){sessionStorage.setItem("parts",JSON.stringify(t)),t.results.forEach(t=>{createPartEl(t.part_num,t.name,t.part_img_url,t.part_url)});var e=t.previous,t=t.next,a=document.createElement("div"),d=(a.id="pages_nav_div",a.classList.add("uk-container"),a.classList.add("uk-flex"),a.classList.add("uk-flex-between"),a.classList.add("uk-margin-top"),a.classList.add("uk-margin-bottom"),document.createElement("div")),s=document.createElement("a"),n=document.createElement("span"),e=(s.classList.add("uk-button"),s.classList.add("uk-button-default"),s.classList.add("pages-nav"),s.type="button",e?s.href=e:(s.href="#",s.style.color="#999999",s.style.cursor="not-allowed"),n.setAttribute("uk-icon","icon: chevron-left"),s.innerText="vorige",d.appendChild(n),d.appendChild(s),a.appendChild(d),document.createElement("div")),n=document.createElement("a"),s=document.createElement("span");n.classList.add("uk-button"),n.classList.add("uk-button-default"),n.classList.add("pages-nav"),n.type="button",t?n.href=t:(n.href="#",n.style.color="#999999",n.style.cursor="not-allowed"),s.setAttribute("uk-icon","icon: chevron-right"),n.innerText="volgende",e.appendChild(n),e.appendChild(s),a.appendChild(e),document.body.appendChild(a),pagesNavListeners(),addCartListeners()}function createPartEl(t,e,a,d){var s=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),u=document.createElement("p"),p=document.createElement("div"),m=document.createElement("span"),g=document.createElement("img"),L=document.createElement("a"),h=document.createElement("span"),k=document.createElement("a"),b=document.createElement("span"),a=(h.setAttribute("uk-icon","icon: cart; ratio: 2"),b.setAttribute("uk-icon","icon: link"),g.id=t,g.src=a||"img/geen_afbeelding.jpg",s.classList.add("part_wrap"),s.classList.add("uk-flex"),n.classList.add("uk-card"),n.classList.add("uk-flex"),n.classList.add("uk-flex-column"),n.classList.add("uk-card-default"),n.classList.add("animate__animated"),n.classList.add("animate__fadeIn"),n.classList.add("animate__slow"),p.classList.add("uk-position-bottom"),i.classList.add("uk-card-media-top"),r.classList.add("uk-card-body"),u.classList.add("uk-card-title"),m.classList.add("price"),i.appendChild(g),n.appendChild(i),u.innerText=e,l.appendChild(u),o.classList.add("uk-margin-bottom"),o.classList.add("uk-text-right"),k.classList.add("uk-button"),k.classList.add("uk-button-default"),k.classList.add("uk-button-small"),p.classList.add("uk-text-right"),k.classList.add("part-detail"),k.href=d,k.setAttribute("target","_blank"),k.innerText="details",k.appendChild(b),c.appendChild(k),(5*Math.random()).toFixed(2));m.innerText="â‚¬"+a.toString(),L.href="#",L.innerText="+ ",L.type="button",L.setAttribute("data-part",t),L.setAttribute("data-naam",e),L.setAttribute("data-prijs",a),L.classList.add("uk-button"),L.classList.add("uk-button-primary"),L.classList.add("uk-button-primary"),L.classList.add("uk-margin-bottom"),L.classList.add("uk-margin-right"),L.classList.add("uk-border-rounded"),L.classList.add("add-button"),L.classList.add("uk-button-small"),p.appendChild(m),p.appendChild(L),o.appendChild(h),r.appendChild(l),r.appendChild(c),r.appendChild(o),r.appendChild(p),n.appendChild(r),s.appendChild(n),parts_list.appendChild(s)}function pagesNavListeners(){document.querySelectorAll(".pages-nav").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();t=t.target.href.split("&");(page=t[1]||"2"!==page?t[1]?t[0].split("=")[1]:0:"1")&&(document.querySelectorAll(".part_wrap").forEach(t=>{t.remove()}),document.getElementById("pages_nav_div").remove(),getParts(url=`${getUrl}?page=${page}&page_size=`+page_size).then(t=>{createPartsList(t)}))})})}function addCartListeners(){document.querySelectorAll(".add-button").forEach(t=>{t.addEventListener("click",t=>{var e=t.target.dataset.part,a=t.target.dataset["naam"],t=t.target.dataset["prijs"],e=new Artikel(e,a,t);console.log(e)})})}window.onload=()=>{document.getElementById("parts_list")},getParts(url=`${getUrl}?page=${page}&page_size=`+page_size).then(t=>{createPartsList(t)});