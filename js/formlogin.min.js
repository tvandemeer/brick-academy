class Klant{constructor(e,t,n){this.naam=e,this.admin=t,this.logged_in=n}}class Mandje{constructor(e,t){this.mandje_id=e,this.klant_id=t}}function showMessage(e,t,n){Swal.fire({title:e,text:t,icon:n,timer:1500,timerProgressBar:!0,showConfirmButton:!1})}if(!localStorage.getItem("klanten")){const klanten={};localStorage.setItem("klanten",JSON.stringify(klanten))}const loginButton=document.getElementById("button-login");function createKlant(e,t){e=new Klant(e,t,!0);return console.log("klant created"),e}loginButton.addEventListener("click",e=>{e.preventDefault();var t,e=document.getElementById("input-naam").value,n=document.getElementById("check-admin").checked;e?localStorage.getItem("klanten")&&(klanten=JSON.parse(localStorage.getItem("klanten")),console.log(klanten),klanten[e]?(console.log("found"),klanten[e].admin=n,localStorage.setItem("klanten",JSON.stringify(klanten)),t=klanten[e],sessionStorage.setItem("live_klant",JSON.stringify(t)),document.getElementById("input-naam").value="",document.getElementById("check-admin").checked=!1,document.querySelectorAll(".link-user").forEach(e=>{e.style.color="#0F7AE5"}),t.admin&&document.querySelectorAll(".link-admin").forEach(e=>{e.style.color="red"}),document.querySelectorAll('[href="login.html"]').forEach(e=>{e.innerText="Log uit",e.style.color="red",e.addEventListener("click",e=>{sessionStorage.removeItem("live_klant"),showMessage("Je bent uitgelogd","Tot ziens!","success")})}),showMessage(`Hallo ${e}!`,"Je bent ingelogd","success")):(console.log("not found"),t=new Klant(e,n),klanten[e]=t,localStorage.setItem("klanten",JSON.stringify(klanten)),sessionStorage.setItem("live_klant",JSON.stringify(t)))):(console.log("geen naam"),showMessage("Naam vereist!","Vul een naam in","warning"))});